webpackJsonp([8],{"9jKr":function(t,e){},EZgN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("vjA4");var l={name:"basetable",data:()=>({message:"first",url:"/xiaotao/user/userList",tableData:[],total:0,cur_page:0,multipleSelection:[],select_cate:"",select_word:"",del_list:[],is_search:!1,editVisible:!1,delVisible:!1,form:{userId:"",nickName:"",phone:"",gender:"",status:"",createTime:""},idx:-1}),activated(){this.getData()},mounted(){this.getData()},methods:{statusFormat:function(t,e){var a=t[e.property];if(void 0==a)return"";return 0==a?"失效":"有效"},genderFormat:function(t,e){var a=t[e.property];if(void 0==a)return"";return 0==a?"女":"男"},handleCurrentChange(t){this.cur_page=1==t?0:10*(t-1),this.getData()},getData(){this.$axios.get(this.url,{params:{p:this.cur_page,size:10}}).then(t=>{this.tableData=t.data.data.data,this.total=t.data.data.size})},search(){this.is_search=!0},formatter:(t,e)=>t.address,filterTag:(t,e)=>e.tag===t,handleEdit(t,e){this.idx=t;const a=this.tableData[t];this.form={id:a.id,serverInstanceId:a.serverInstanceId,instanceName:a.instanceName,status:a.status},this.editVisible=!0},handleDelete(t,e){this.idx=t,this.delVisible=!0},delAll(){const t=this.multipleSelection.length;let e="";this.del_list=this.del_list.concat(this.multipleSelection);for(let a=0;a<t;a++)e+=this.multipleSelection[a].name+" ";this.$message.error("删除了"+e),this.multipleSelection=[]},handleSelectionChange(t){this.multipleSelection=t},saveEdit(){this.$set(this.tableData,this.idx,this.form),this.editVisible=!1,this.$message.success(`修改第 ${this.idx+1} 行成功`)},deleteRow(){this.tableData.splice(this.idx,1),this.$message.success("删除成功"),this.delVisible=!1}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"container"},[a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userId",label:"用户ID",sortable:"",width:"90"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"昵称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:t.statusFormat,label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gender",formatter:t.genderFormat,label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:this.total},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"50px"}},[a("el-form-item",{attrs:{label:"Id:"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Sid:"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.form.serverInstanceId,callback:function(e){t.$set(t.form,"serverInstanceId",e)},expression:"form.serverInstanceId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Status:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{key:"0",attrs:{label:"初始化",value:"0"}}),t._v(" "),a("el-option",{key:"1",attrs:{label:"创建中",value:"1"}}),t._v(" "),a("el-option",{key:"2",attrs:{label:"运行中",value:"2"}}),t._v(" "),a("el-option",{key:"3",attrs:{label:"欠费停服",value:"3"}}),t._v(" "),a("el-option",{key:"4",attrs:{label:"已销毁",value:"4"}}),t._v(" "),a("el-option",{key:"5",attrs:{label:"维护中",value:"5"}}),t._v(" "),a("el-option",{key:"6",attrs:{label:"手动删除",value:"6"}}),t._v(" "),a("el-option",{key:"7",attrs:{label:"重启中",value:"7"}}),t._v(" "),a("el-option",{key:"8",attrs:{label:"恢复中",value:"8"}}),t._v(" "),a("el-option",{key:"9",attrs:{label:"停止中",value:"9"}}),t._v(" "),a("el-option",{key:"10",attrs:{label:"创建异常",value:"10"}})],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var i=a("C7Lr")(l,s,!1,function(t){a("9jKr")},"data-v-6daf4e72",null);e.default=i.exports},vjA4:function(t,e,a){"use strict"}});